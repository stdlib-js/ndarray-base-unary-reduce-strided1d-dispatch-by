"use strict";var V=function(e,a){return function(){return a||e((a={exports:{}}).exports,a),a.exports}};var B=V(function(Cr,sr){sr.exports={dims:null,keepdims:!1}});var z=V(function(Fr,R){"use strict";var ur=require("@stdlib/assert-is-plain-object"),S=require("@stdlib/assert-has-own-property"),or=require("@stdlib/assert-is-boolean").isPrimitive,mr=require("@stdlib/assert-is-integer-array").primitives,dr=require("@stdlib/assert-is-empty-collection"),lr=require("@stdlib/ndarray-base-to-unique-normalized-indices"),I=require("@stdlib/array-base-join"),vr=require("@stdlib/array-base-assert-contains"),T=require("@stdlib/string-format");function gr(e,a,u,t){var m;if(!ur(t))return new TypeError(T("invalid argument. Options argument must be an object. Value: `%s`.",t));if(S(t,"keepdims")&&(e.keepdims=t.keepdims,!or(e.keepdims)))return new TypeError(T("invalid option. `%s` option must be a boolean. Option: `%s`.","keepdims",e.keepdims));if(S(t,"dims")){if(e.dims=t.dims,!mr(e.dims)&&!dr(e.dims))return new TypeError(T("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",e.dims));if(m=lr(e.dims,a-1),m===null)return new RangeError(T("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",I(e.dims,",")));if(m.length!==e.dims.length)return new Error(T("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",I(e.dims,",")));e.dims=m}return S(t,"dtype")&&(e.dtype=t.dtype,!vr(u,e.dtype))?new TypeError(T('invalid option. `%s` option must be one of the following: "%s". Option: `%s`.',"dtype",I(u,'", "'),e.dtype)):null}R.exports=gr});var L=V(function(Dr,N){"use strict";function pr(e,a,u,t,m,r,s,g,o){var f,y,v,d;for(f=r,v=0;v<e;v++){for(y=o,d=0;d<a&&u[f+d*m]===s[y];d++)y+=g;if(d===a)return v;f+=t}return-1}N.exports=pr});var nr=V(function(Ar,ir){"use strict";var K=require("@stdlib/utils-define-nonenumerable-read-only-property"),U=require("@stdlib/assert-has-property"),C=require("@stdlib/assert-is-ndarray-like"),x=require("@stdlib/assert-is-object"),c=require("@stdlib/assert-is-function"),O=require("@stdlib/assert-is-collection"),G=require("@stdlib/assert-is-empty-collection"),fr=require("@stdlib/assert-is-function-array"),H=require("@stdlib/ndarray-base-assert-is-data-type"),yr=require("@stdlib/ndarray-base-assert-is-output-data-type-policy"),hr=require("@stdlib/ndarray-base-assert-is-input-casting-policy"),F=require("@stdlib/array-base-assert-contains"),Q=require("@stdlib/ndarray-base-unary-reduce-strided1d-by"),cr=require("@stdlib/ndarray-base-unary-output-dtype"),W=require("@stdlib/ndarray-base-unary-input-casting-dtype"),X=require("@stdlib/ndarray-base-dtype-resolve-enum"),wr=require("@stdlib/ndarray-base-dtypes2enums"),br=require("@stdlib/ndarray-base-spread-dimensions"),Y=require("@stdlib/ndarray-shape"),qr=require("@stdlib/ndarray-ndims"),_=require("@stdlib/ndarray-base-dtype"),P=require("@stdlib/ndarray-base-order"),Tr=require("@stdlib/ndarray-base-assign"),Z=require("@stdlib/ndarray-base-empty"),Er=require("@stdlib/ndarray-empty"),kr=require("@stdlib/array-base-indices-complement"),_r=require("@stdlib/array-base-take-indexed"),$=require("@stdlib/array-base-zero-to"),D=require("@stdlib/array-base-join"),jr=require("@stdlib/array-base-copy"),M=require("@stdlib/array-base-insert-at"),J=require("@stdlib/array-base-every-by"),rr=require("@stdlib/object-assign"),n=require("@stdlib/string-format"),er=B(),ar=z(),tr=L();function j(e,a,u,t){var m,r;if(!(this instanceof j))return new j(e,a,u,t);if(!x(e))throw new TypeError(n("invalid argument. First argument must be an object. Value: `%s`.",e));if(!c(e.default))throw new TypeError(n('invalid argument. First argument must be an object having a "default" property and an associated method.'));if(U(e,"types")&&!O(e.types)&&!G(e.types))throw new TypeError(n('invalid argument. First argument must be an object having a "types" property whose associated value is an array-like object.'));if(U(e,"fcns")&&!fr(e.fcns)&&!G(e.fcns))throw new TypeError(n('invalid argument. First argument must be an object having a "fcns" property whose associated value is an array-like object containing functions.'));if(!O(a))throw new TypeError(n("invalid argument. Second argument must be an array-like object. Value: `%s`.",a));for(r=0;r<a.length;r++)if(m=a[r],!O(m)||m.length<1||!J(m,H))throw new TypeError(n("invalid argument. Second argument must contain arrays of data types. Value: `%s`.",a));if(!O(u)||u.length<1||!J(u,H))throw new TypeError(n("invalid argument. Third argument must be an array of data types. Value: `%s`.",u));if(!x(t))throw new TypeError(n("invalid argument. Fourth argument must be an object. Value: `%s`.",t));if(!yr(t.output))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported output data type policy. Value: `%s`.",t.output));if(!hr(t.casting))throw new TypeError(n("invalid argument. Fourth argument must be an object having a supported casting policy. Value: `%s`.",t.casting));if(this._table={default:e.default,types:e.types?wr(e.types):[],fcns:e.fcns?jr(e.fcns):[]},this._table.types.length!==this._table.fcns.length)throw new Error("invalid argument. First argument specifies an unexpected number of types. An input ndarray data type must be specified for each provided strided function.");return this._idtypes=a,this._odtypes=u,this._policies={output:t.output,casting:t.casting},this}K(j.prototype,"apply",function(a){var u,t,m,r,s,g,o,f,y,v,d,w,h,p,q,b,i,A,E,k,l;if(r=arguments.length,!C(a))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",a));if(p=_(a),!F(this._idtypes[0],p))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',D(this._idtypes[0],'", "'),p));for(g=[a],l=1;l<r&&(w=arguments[l],!!C(w));l++){if(i=_(w),!F(this._idtypes[l],i))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',l,D(this._idtypes[l],'", "'),i));g.push(w)}if(l<r-3)throw new TypeError(n("invalid argument. Argument %d must be an ndarray-like object. Value: `%s`.",l,arguments[l]));if(l===r)throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",arguments[r-1]));if(l===r-3){if(b=!0,t=arguments[r-3],s=arguments[r-2],!c(s))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",s));u=arguments[r-1]}else if(l===r-1){if(s=arguments[r-1],!c(s))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",s))}else if(c(arguments[r-2]))s=arguments[r-2],u=arguments[r-1];else if(c(arguments[r-1]))b=!0,t=arguments[r-2],s=arguments[r-1];else throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",arguments[r-2]));if(v=Y(a),E=v.length,o=rr({},er),b&&(f=ar(o,E,this._odtypes,t),f))throw f;return o.dims===null&&(o.dims=$(E)),y=kr(E,o.dims),d=_r(v,y),q=o.dtype||cr(p,this._policies.output),k=Er(d,{dtype:q,order:P(a)}),i=W(p,q,this._policies.casting),p!==i&&(h=Z(i,v,P(a)),Tr([a,h]),g[0]=h,p=i),m=[X(p)],l=tr(this._table.fcns.length,1,this._table.types,1,1,0,m,1,0),l>=0?A=this._table.fcns[l]:A=this._table.default,Q(A,M(g,1,k),o.dims,s,u),o.keepdims&&(k=br(E,k,y)),k});K(j.prototype,"assign",function e(a){var u,t,m,r,s,g,o,f,y,v,d,w,h,p,q,b,i;if(r=arguments.length,!C(a))throw new TypeError(n("invalid argument. First argument must be an ndarray-like object. Value: `%s`.",a));if(d=_(a),!F(this._idtypes[0],d))throw new TypeError(n('invalid argument. First argument must have one of the following data types: "%s". Data type: `%s`.',D(this._idtypes[0],'", "'),d));for(o=[a],i=1;i<r&&(f=arguments[i],!!C(f));i++)o.push(f);if(i<2)throw new TypeError(n("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",arguments[1]));if(i===r)throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",arguments[r-1]));if(i===r-3){if(v=!0,t=arguments[r-3],s=arguments[r-2],!c(s))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",s));u=arguments[r-1]}else if(i===r-1){if(s=arguments[r-1],!c(s))throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",s))}else if(c(arguments[r-2]))s=arguments[r-2],u=arguments[r-1];else if(c(arguments[r-1]))v=!0,t=arguments[r-2],s=arguments[r-1];else throw new TypeError(n("invalid argument. Callback argument must be a function. Value: `%s`.",arguments[r-2]));for(b=o.pop(),i=1;i<o.length;i++)if(h=_(o[i]),!F(this._idtypes[i],h))throw new TypeError(n('invalid argument. Argument %d must have one of the following data types: "%s". Data type: `%s`.',i,D(this._idtypes[i],'", "'),h));if(p=qr(a),g=rr({},er),v&&(y=ar(g,p,this._odtypes,t),y))throw y;return g.dims===null&&(g.dims=$(p)),h=W(d,_(b),this._policies.casting),d!==h&&(w=Z(h,Y(a),P(a)),e([a,w]),o[0]=w,d=h),m=[X(d)],i=tr(this._table.fcns.length,1,this._table.types,1,1,0,m,1,0),i>=0?q=this._table.fcns[i]:q=this._table.default,Q(q,M(o,1,b),g.dims,s,u),b});ir.exports=j});var Vr=nr();module.exports=Vr;
/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
